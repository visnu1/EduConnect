import{c as x,r as d,j as e,L as f,u as j,e as b,f as N,R as v,d as u}from"./index-D4QvBTGK.js";import{S as w}from"./search-CRM-an31.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],C=x("book-open",k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M=x("circle-check",S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_=x("clock",T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O=x("funnel",L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],R=x("map-pin",A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],E=x("user",$),I=JSON.parse(localStorage.getItem("courses"))||[],P=()=>{const[n,r]=d.useState([]);return d.useEffect(()=>{r(I)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"m-5",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-black font-semibold text-center",children:"My Courses"}),e.jsx("div",{className:"w-full flex items-center justify-end mb-2",children:e.jsx(f,{to:"/courses/registration",className:"inline border flex items-center bg-blue-600 text-white hover:bg-primary/90 text-white font-medium py-2 px-6 rounded-lg",children:"Register Course"})}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{scope:"col",className:"p-3",children:"#"}),e.jsx("th",{scope:"col",className:"p-3",children:"Course Name"}),e.jsx("th",{scope:"col",className:"p-3",children:"Professor Name"}),e.jsx("th",{scope:"col",className:"p-3",children:"Time"})]})}),e.jsx("tbody",{children:n.length?n.map((t,c)=>e.jsxs("tr",{className:"border-t border-gray-300",children:[e.jsx("th",{className:"p-3 font-medium",scope:"row",children:c+1}),e.jsx("td",{className:"p-3",children:t.courseName}),e.jsx("td",{className:"p-3",children:t.professorName}),e.jsx("td",{className:"p-3",children:t.day||"Online"})]},t.courseId)):e.jsx("tr",{className:"border-t border-gray-300",children:e.jsx("td",{className:"p-3 text-center text-gray-500",colSpan:4,children:"No courses found or registered ðŸ˜•"})})})]})})]})})},z=({searchTerm:n="",activeFilters:r=[]})=>{const{user:t}=j(),[c,i]=d.useState([]);d.useEffect(()=>{(async()=>{try{const{results:l=[]}=await b(n);let o=l.map(m=>{let p=(m.startTime||"").slice(0,-3),y=(m.endTime||"").slice(0,-3);return{...m,startTime:p,endTime:y,credits:m.credits||"3.0",status:m.maxStudents?"Open":"Closed"}});i(o)}catch(l){console.error("Failed to fetch courses:",l)}})()},[n]);const a=c.filter(s=>{if(r.length>0){if(r.includes(s.majorName)||r.includes(s.campusLocation)||r.includes(s.status||""))return!0;const l=s.startTime?parseInt(s.startTime.split(":")[0]):0;return!!(r.includes("Morning")&&l>=8&&l<12||r.includes("Afternoon")&&l>=12&&l<17||r.includes("Evening")&&l>=17||r.includes("Weekend")&&(s.day==="Saturday"||s.day==="Sunday")||r.includes("Online")&&s.day==="Online")}return!0}),h=async s=>{if(!(t&&(t!=null&&t.id))){alert("Please login");return}const l={studentId:t.id,courseId:s,enrolledSemester:"spring"};try{const{results:o}=await N(l);i(o),alert("Course registered successfully"),console.log(o)}catch(o){console.error("Error fetching data:",o)}};return e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Major & Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credits"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.length>0?a.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.courseName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.majorName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900",children:s.professorName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900",children:s.campusLocation||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900",children:s.credits})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`${s.maxStudents?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"} px-3 py-1 justify-center inline-flex text-xs leading-5 font-semibold rounded-full min-w-[65px]`,children:s.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:s.day}),s.startTime&&s.endTime&&e.jsxs("div",{className:"text-sm text-gray-500",children:[s.startTime," - ",s.endTime]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("button",{className:`${s.maxStudents?"bg-primary text-white hover:bg-primary/90 bg-blue-600 hover:bg-blue-700":"border border-gray-200 border-input bg-background hover:bg-accent hover:text-accent-foreground  text-gray-600 bg-gray-100 opacity-70"}
                                                 h-9 rounded-md px-3 font-semibold text-sm select-none`,onClick:()=>h(s.courseId),children:"Register"})})]},s.courseId)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"h-12 w-12 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 13.5V15m-6 4h12a2 2 0 002-2v-12a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-lg font-medium",children:"No courses found"}),e.jsx("p",{className:"mt-1",children:"Try adjusting your search or filters to find what you're looking for."})]})})})})]})})})},B=({activeFilters:n,onFilterItemToggle:r})=>{const t=["Computer Science","Information Technology","Business"],c=["Newark","New Brunswick","Online"],i=["Open","Closed"];return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8 border border-gray-100 animate-in fade-in-50 duration-300",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3 text-slate-800",children:"Major"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>e.jsx(g,{label:a,isActive:n.includes(a),onClick:()=>r(a)},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3 text-slate-800",children:"Location"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(a=>e.jsx(g,{label:a,isActive:n.includes(a),onClick:()=>r(a)},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3 text-slate-800",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(a=>e.jsx(g,{label:a,isActive:n.includes(a),onClick:()=>r(a)},a))})]})]}),n.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[n.length," filter",n.length!==1?"s":""," applied"]}),e.jsx("button",{className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-9 rounded-md px-3 hover:bg-accent hover:text-accent-foreground",children:"Clear all"})]})]})},g=({label:n,isActive:r,onClick:t})=>e.jsxs("button",{className:`flex items-center cursor-pointer py-1 px-3 rounded-full font-normal transition-all text-xs border border-gray-200 select-none
            ${r?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,onClick:t,children:[r&&e.jsx(M,{className:"mr-1 h-3 w-3"}),e.jsx("span",{children:n})]}),H=()=>{const[n,r]=d.useState(""),[t,c]=d.useState([]),[i,a]=d.useState(!1),h=s=>{t.includes(s)?c(t.filter(l=>l!==s)):c([...t,s])};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-blue-50",children:e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Register for Your Courses"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Browse available courses, filter by your preferences, and register for the upcoming semester."})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx(w,{className:"absolute left-3.5 top-2.4 h-5 w-5 text-muted-foreground"})}),e.jsx("input",{type:"search",id:"default-search",className:"block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Products",onChange:s=>r(s.target.value)})]}),e.jsxs("button",{className:"justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none border border-gray-200 hover:text-accent-foreground h-9 px-4 py-1 flex items-center gap-2 bg-white hover:bg-gray-50",onClick:()=>a(!i),children:[e.jsx(O,{size:18}),e.jsx("span",{children:"Filters"}),t.length>0&&e.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-secondary/80 ml-2 bg-blue-100 text-blue-800",children:t.length})]})]}),i&&e.jsx(B,{activeFilters:t,onFilterItemToggle:h}),e.jsx(z,{searchTerm:n,activeFilters:t})]})})})},V=()=>e.jsx(v,{children:e.jsxs(u,{path:"/",children:[e.jsx(u,{path:"/student",element:e.jsx(P,{})}),e.jsx(u,{path:"/registration",element:e.jsx(H,{})})]})});export{V as default};
